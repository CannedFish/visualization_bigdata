<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin 2 - Bootstrap Admin Theme</title>

    <!-- Bootstrap Core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">
    <link href="custom.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="../vendor/morrisjs/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

<div class="wrapper">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">国家邮政局</a>
        </div>
        <!-- /.navbar-header -->

        <ul class="nav navbar-top-links navbar-right">
            <!-- /.dropdown -->
        </ul>
        <!-- /.navbar-top-links -->
    </nav>
    <br>
    <div class="container-fluid">
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-3" style="width: 27.1%">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> 采集集群
                    </div>
                    <div class="panel-body">
                        <!--资源-->
                        <div class="well-custom">
                            <div class="alert-success hardware-well text-center">
                                <p class="title">节点数量(个)</p>
                                <div class="num">100</div>
                            </div>
                            <div class="alert-info hardware-well text-center">
                                <p class="title">CPU核数(个)</p>
                                <div class="num">2000</div>
                            </div>
                            <div class="alert-warning hardware-well text-center">
                                <p class="title">内存总量(B)</p>
                                <div class="num">1500</div>
                            </div>
                            <div class="alert-danger hardware-well text-center">
                                <p class="title">存储总量(B)</p>
                                <div class="num">3000</div>
                            </div>
                        </div>

                        <hr>
                        <!--使用情况-->
                        <div class="row">
                            <div class="col-lg-7">
                                <!--<strong>物理使用情况</strong>-->
                                <div id="usage_chart" style="width: 100%;height: 220px "></div>
                            </div>
                            <div class="col-lg-5">
                                <div id="adopt_pie" style="width: 100%;height:150px;"></div>
                                <div class="row">
                                    <div class="col-sm-6 col-lg-6 col-md-6">
                                        <p class="text-center">内存占用</p>
                                    </div>
                                    <div class="col-sm-6 col-lg-6 col-md-6">
                                        <p class="text-center">磁盘占用</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <!--组件集群数据单位时间采集量-->
                        <strong>组件集群数据单位时间采集量</strong>
                        <div id="data_chart" style="width: 100%;height:150px;"></div>


                        <hr>
                        <!--健康状况-->
                        <strong>服务组件健康状况</strong>
                        <div class='panel panel-default panel-body' style="margin-top:10px;padding:0px; height: 200px;overflow: auto">
                            <table class="table table-responsive table-condensed table-striped" >
                            <tbody>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：良好</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：良好</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：存在隐患</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：良好</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：良好</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：良好</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：存在隐患</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            <tr>
                                <td>11月24日 下午2点41分</td>
                                <td>Agent运行状况：良好</td>
                                <td><a href="/">显示</a></td>
                            </tr>
                            </tbody>
                        </table>
                        </div >
                    </div >
                </div>
            </div>
            <div class="col-lg-5" style="width: 45.8%">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> 计算存储集群
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-8">
                                <div class="panel panel-default panel-body">
                                    <!--资源-->
                                    <strong>集群物理可用资源</strong>
                                    <div class="well-custom" style="margin-top: 10px;">
                                        <div class="alert-success hardware-well text-center">
                                            <p class="title">节点数量(个)</p>
                                            <div class="num">100</div>
                                        </div>
                                        <div class="alert-info hardware-well text-center">
                                            <p class="title">CPU核数(个)</p>
                                            <div class="num">2000</div>
                                        </div>
                                        <div class="alert-warning hardware-well text-center">
                                            <p class="title">内存总量(B)</p>
                                            <div class="num">1500</div>
                                        </div>
                                        <div class="alert-danger hardware-well text-center">
                                            <p class="title">存储总量(B)</p>
                                            <div class="num">3000</div>
                                        </div>
                                    </div>
                                    <!--使用情况-->
                                    <hr>
                                    <div class="row">
                                        <div class="col-lg-7">
                                            <div id="compute_chart" style="width: 100%;height: 220px "></div>
                                        </div>
                                        <div class="col-lg-5">
                                            <div id="compute_pie" style="width: 100%;height:150px;"></div>
                                            <div class="row">
                                                <div class="col-sm-6 col-lg-6 col-md-6">
                                                    <p class="text-center">内存占用</p>
                                                </div>
                                                <div class="col-sm-6 col-lg-6 col-md-6">
                                                    <p class="text-center">磁盘占用</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div >
                            </div>
                            <div class="col-lg-4">
                                <div class="panel panel-default panel-body">
                                    <div class="well-custom">
                                        <p><strong>虚拟资源情况</strong></p>
                                        <div class="panel virtual-panel">
                                            <div class="panel-heading">
                                                <div>云服务器数量:
                                                    <div class="num">1000</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel virtual-panel">
                                            <div class="panel-heading">
                                                <div>虚拟硬盘总数:
                                                    <div class="num">1000</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel virtual-panel">
                                            <div class="panel-heading">
                                                <div>vCPU总数:
                                                    <div class="num">1000</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="panel virtual-panel">
                                            <div class="panel-heading">
                                                <div>虚拟内存总数:
                                                    <div class="num">1000</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div> vCore分配量:</div>
                                    <div class="progress" style="margin-bottom: 1px;">
                                        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40"
                                             aria-valuemin="0" aria-valuemax="100" style="width:40%">
                                            40%
                                        </div>
                                    </div>

                                    <div> vMem分配量:</div>
                                    <div class="progress" style="margin-bottom: 1px;">
                                        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="50"
                                             aria-valuemin="0" aria-valuemax="100" style="width:50%">
                                            50%
                                        </div>
                                    </div>

                                    <div>HDFS使用量:</div>
                                    <div class="progress" style="margin-bottom: 1px;">
                                        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="60"
                                             aria-valuemin="0" aria-valuemax="100" style="width:60%">
                                            60%
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-6">
                                <strong>数据总量</strong>
                                <div id="compute_data_chart" style="width: 100%;height:150px;"></div>
                                <hr>
                                <strong>服务组件健康状况</strong>
                                <div class='panel panel-default panel-body' style="margin-top:10px;padding:0px; height: 180px;overflow: auto">
                                    <table class="table table-responsive table-condensed table-striped" >
                                        <tbody>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：良好</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：良好</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：存在隐患</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：良好</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：良好</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：良好</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：存在隐患</td>
                                        </tr>
                                        <tr>
                                            <td>11月24日 下午2点41分</td>
                                            <td>Agent运行状况：良好</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div >
                            </div>

                            <div class="col-lg-6">
                                <strong>各应用系统资源使用状况排行</strong>
                                <div class='panel panel-default panel-body' style="margin-top:10px;padding:0px; height: 380px;overflow: auto">
                                    <table class="table table-responsive table-condensed" >
                                        <tbody>

                                        <colgroup>
                                            <col></col>
                                            <col></col>
                                            <col class="success" id="vcpu"></col>
                                            <col id="mem"></col>
                                            <col id="job_time"></col>
                                            <col id="job_num"></col>
                                        </colgroup>

                                        <thead>
                                        <tr>
                                            <th>排名</th>
                                            <th>应用系统名称</th>
                                            <th>vCPU数(个)</th>
                                            <th>内存(B)</th>
                                            <th>任务数(个)</th>
                                            <th>任务持续时间(秒)</th>

                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>统计系统</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>许可系统</td>
                                            <td>90</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td>RTX</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>4</td>
                                            <td>OA系统</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>5</td>
                                            <td>统一门户</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>6</td>
                                            <td>政府信息公开</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>7</td>
                                            <td>移动OA</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>8</td>
                                            <td>职业鉴定</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>9</td>
                                            <td>信用管理</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>10</td>
                                            <td>集邮联微信</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>

                                        <tr>
                                            <td>11</td>
                                            <td>政府信息公开</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>12</td>
                                            <td>行政执法</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>
                                        </tr>
                                        <tr>
                                            <td>13</td>
                                            <td>职业鉴定</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>

                                        </tr>
                                        <tr>
                                            <td>14</td>
                                            <td>统一门户</td>
                                            <td>80</td>
                                            <td>100</td>
                                            <td>100</td>
                                            <td>100</td>

                                        </tr>
                                        </tbody>
                                        </tbody>
                                    </table>
                                </div >
                            </div>
                        </div>
                    </div>
                    <!-- /.panel-body -->
                </div>
            </div>
            <div class="col-lg-3" style="width: 27.1%">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-bar-chart-o fa-fw"></i> 消息队列集群
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <!--资源-->
                        <div class="well-custom">
                            <div class="alert-success hardware-well text-center">
                                <p class="title">节点数量(个)</p>
                                <div class="num">100</div>
                            </div>
                            <div class="alert-info hardware-well text-center">
                                <p class="title">CPU核数(个)</p>
                                <div class="num">2000</div>
                            </div>
                            <div class="alert-warning hardware-well text-center">
                                <p class="title">内存总量(B)</p>
                                <div class="num">1500</div>
                            </div>
                            <div class="alert-danger hardware-well text-center">
                                <p class="title">存储总量(B)</p>
                                <div class="num">3000</div>
                            </div>
                        </div>
                        <!--使用情况-->

                        <hr>
                        <div class="row">
                            <div class="col-lg-7">
                                <div id="message_chart" style="width: 100%;height: 220px"></div>
                            </div>
                            <div class="col-lg-5">
                                <div id="message_pie" style="width: 100%;height:150px;"></div>
                                <div class="row">
                                    <div class="col-sm-6 col-lg-6 col-md-6">
                                        <p class="text-center">内存占用</p>
                                    </div>
                                    <div class="col-sm-6 col-lg-6 col-md-6">
                                        <p class="text-center">磁盘占用</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>
                        <!--组件集群数据单位时间采集量-->
                        <strong>组件集群数据单位时间采集量</strong>
                        <div id="message_data_chart" style="width: 100%;height:150px;"></div>

                        <hr>
                        <!--健康状况-->
                        <strong>服务组件健康状况</strong>
                        <div class='panel panel-default panel-body' style="margin-top:10px;padding:0px; height: 200px;overflow: auto">
                            <table class="table table-responsive table-condensed table-striped" >
                                <tbody>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：良好</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：良好</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：存在隐患</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：良好</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：良好</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：良好</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：存在隐患</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                <tr>
                                    <td>11月24日 下午2点41分</td>
                                    <td>Agent运行状况：良好</td>
                                    <td><a href="/">显示</a></td>
                                </tr>
                                </tbody>
                            </table>
                        </div >
                    </div>
                    <!-- /.panel-body -->
                </div>
            </div>
        </div>
        <!-- /.row -->
    </div>
    <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->

<!-- jQuery -->
<script src="../vendor/jquery/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

<!-- Metis Menu Plugin JavaScript -->
<script src="../vendor/metisMenu/metisMenu.min.js"></script>

<!-- Morris Charts JavaScript -->
<script src="../vendor/raphael/raphael.min.js"></script>
<script src="../vendor/morrisjs/morris.min.js"></script>
<script src="../data/morris-data.js"></script>

<!-- Custom Theme JavaScript -->
<script src="../dist/js/sb-admin-2.js"></script>

<!-- 导入Echarts -->
<script src="../vendor/echarts/echarts.min.js"></script>


<script>

    $(document).ready(function () {

        // ---------------------------采集集群－－－－－－－－－－－－－－－－－－－－－
        // usage_chart
        var chart_len =30*3; // 3 minutes
        var usage_chart = echarts.init(document.getElementById('usage_chart'));
        var usage_chart_option = {
            // grid:{
            //     x:'13%',
            //     y:'30%',
            //     x2:'13%',
            //     y2:'10%'
            // },
            title:{
                text:'物理使用情况',
                textStyle:{
                    fontSize:14
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#283b56'
                    }
                }
            },
            legend: {
                orient: 'horizontal',
                bottom: 0,
                data: ['磁盘IO', '网络IO', 'CPU使用率']
            },
            dataZoom: {
                show: false,
                start: 0,
                end: 100
            },
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: true,
                    data: (function () {
                        var now = new Date();
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.unshift(now.toLocaleTimeString().replace(/^\D*/, ''));
                            now = new Date(now - 2000);
                        }
                        return res;
                    })()
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    scale: true,
                    name: '％',
                    nameLocation:'end',
                    nameTextStyle:{
                        align:'right',
                        padding:100,
                        height:100
                    },
                    splitLine:{
                        show:false
                    },
                    max: 100,
                    min: 0,
                    boundaryGap: [0.2, 0.2]
                },
                {
                    type: 'value',
                    scale: true,
                    name: 'Byte/s',
                    max: 1200,
                    splitLine:{
                        show:false
                    },
                    min: 0,
                    boundaryGap: [0.2, 0.2]
                }
            ],
            series: [
                {
                    name: '磁盘IO',
                    type: 'line',
                    yAxisIndex: 1,
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(500);
                        }
                        return res;
                    })()
                },
                {
                    name: '网络IO',
                    type: 'line',
                    yAxisIndex: 1,
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(400);
                        }
                        return res;
                    })()
                },
                {
                    name: 'CPU使用率',
                    type: 'line',
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(20);
                        }
                        return res;
                    })()
                }
            ]
        };
        setInterval(function () {
            var axisData = (new Date()).toLocaleTimeString().replace(/^\D*/, '');
            var data0 = usage_chart_option.series[0].data;
            var data1 = usage_chart_option.series[1].data;
            var data2 = usage_chart_option.series[2].data;

            data0.shift();
            data0.push(Math.round(Math.random() * 1000));
            data1.shift();
            data1.push(Math.round(Math.random() * 1000));
            data2.shift();
            data2.push((Math.random() * 10 + 30).toFixed(1) - 0);

            usage_chart_option.xAxis[0].data.shift();
            usage_chart_option.xAxis[0].data.push(axisData);
            usage_chart.setOption(usage_chart_option);
        }, 2200);

        // adopt_pie
        var adopt_pie = echarts.init(document.getElementById('adopt_pie'));
        var adopt_pie_option = {
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data: ['已占用', "空闲"]
            },
            series: [
                {
                    name: '内存占用',
                    type: 'pie',
                    radius: [0, '40%'],
                    center: ['25%', '60%'],
                    data: [
                        {value: 335, name: '已占用'},
                        {value: 310, name: '空闲'}
                    ],

                    itemStyle: {
                        normal: {
                            color: null
                        },
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        normal: {
                            position: 'inner',
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    }
                },
                {
                    name: '磁盘占用',
                    type: 'pie',
                    radius: [0, '40%'],
                    center: ['75%', '60%'],
                    data: [
                        {value: 335, name: '已占用'},
                        {value: 310, name: '空闲'}
                    ],

                    itemStyle: {
                        normal: {
                            color: null
                        },
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        normal: {
                            position: 'inner',
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    }
                },
            ]
        };
        setInterval(function () {
            adopt_pie_option.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;
            adopt_pie_option.series[0].data[1].value = (Math.random() * 100).toFixed(2) - 0;
            adopt_pie_option.series[1].data[0].value = (Math.random() * 100).toFixed(2) - 0;
            adopt_pie_option.series[1].data[1].value = (Math.random() * 100).toFixed(2) - 0;
            adopt_pie.setOption(adopt_pie_option, true);


        }, 2000);

        // adopt_data chart for 10 minutes
        var adopt_data = [];
        var now = new Date();
        var twoSecond = 2*1000;
        var time = new Date(+now-twoSecond*30*10);
        for (var i = 0; i < 30*10; i++) {
            adopt_data.push({
                name:time.toString(),
                value:[
                    time,Math.round(Math.random() * 10 + 50)
                ]
            });
            time= new Date(+time+twoSecond);
        }
        var data_chart = echarts.init(document.getElementById('data_chart'));
        data_chart_option = {
            grid:{
                x:'10%',
                y:'20%',
                x2:'10%',
                y2:'13%'
            },
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    params = params[0];
                    var date = new Date(params.name);
                    return date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() +' '+date.getHours()+':'+date.getMinutes()+' : ' + params.value[1];
                },
                axisPointer: {
                    animation: false
                }
            },
            xAxis: {
                type: 'time',
                splitLine: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '100%'],
                name: 'Byte',
                splitLine: {
                    show: false
                }
            },
            series: [{
                name: '采集数据',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                areaStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgb(255, 158, 68)'
                        }, {
                            offset: 1,
                            color: 'rgb(255, 70, 131)'
                        }])
                    }
                },
                data: adopt_data
            }]
        };
        setInterval(function () {
            now= new Date();
            adopt_data.shift();
            adopt_data.push({
                name: now.toString(),
                value: [
                    now,
                    Math.round(Math.random() * 10+50)
                ]
            });
            data_chart.setOption(data_chart_option,true)
        }, 2000);


        // ---------------------------计算集群－－－－－－－－－－－－－－－－－－－－－

        // usage_chart
        var compute_chart = echarts.init(document.getElementById('compute_chart'));
        var compute_chart_option = {
            // grid:{
            //     x:'13%',
            //     y:'30%',
            //     x2:'13%',
            //     y2:'10%'
            // },
            title:{
                text:'物理使用情况',
                textStyle:{
                    fontSize:14
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#283b56'
                    }
                }
            },
            legend: {
                orient: 'horizontal',
                bottom: 0,
                data: ['磁盘IO', '网络IO', 'CPU使用率']
            },
            dataZoom: {
                show: false,
                start: 0,
                end: 100
            },
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: true,
                    data: (function () {
                        var now = new Date();
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.unshift(now.toLocaleTimeString().replace(/^\D*/, ''));
                            now = new Date(now - 2000);
                        }
                        return res;
                    })()
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    scale: true,
                    name: '％',
                    max: 100,
                    min: 0,
                    splitLine:{
                        show:false
                    },
                    boundaryGap: [0.2, 0.2]
                },
                {
                    type: 'value',
                    scale: true,
                    name: 'Byte/s',
                    max: 1200,
                    min: 0,
                    splitLine:{
                        show:false
                    },
                    boundaryGap: [0.2, 0.2]
                }
            ],
            series: [
                {
                    name: '磁盘IO',
                    type: 'line',
                    yAxisIndex: 1,
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(500);
                        }
                        return res;
                    })()
                },
                {
                    name: '网络IO',
                    type: 'line',
                    yAxisIndex: 1,
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(300);
                        }
                        return res;
                    })()
                },
                {
                    name: 'CPU使用率',
                    type: 'line',
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len --) {
                            res.push(30);
                        }
                        return res;
                    })()
                }
            ]
        };

        setInterval(function () {
            var axisData = (new Date()).toLocaleTimeString().replace(/^\D*/, '');
            var data0 = compute_chart_option.series[0].data;
            var data1 = compute_chart_option.series[1].data;
            var data2 = compute_chart_option.series[2].data;

            data0.shift();
            data0.push(Math.round(Math.random() * 1000));
            data1.shift();
            data1.push(Math.round(Math.random() * 1000));

            data2.shift();
            data2.push((Math.random() * 10 + 20).toFixed(1) - 0);

            compute_chart_option.xAxis[0].data.shift();
            compute_chart_option.xAxis[0].data.push(axisData);
            compute_chart.setOption(compute_chart_option);
        }, 2000);

        // compute_pie
        var compute_pie = echarts.init(document.getElementById('compute_pie'));
        var compute_pie_option = {
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data: ['已占用', "空闲"]
            },
            series: [
                {
                    name: '内存占用',
                    type: 'pie',
                    radius: [0, '40%'],
                    center: ['25%', '60%'],
                    data: [
                        {value: 335, name: '已占用'},
                        {value: 310, name: '空闲'}
                    ],

                    itemStyle: {
                        normal: {
                            color: null
                        },
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        normal: {
                            position: 'inner',
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    }
                },
                {
                    name: '磁盘占用',
                    type: 'pie',
                    radius: [0, '40%'],
                    center: ['75%', '60%'],
                    data: [
                        {value: 335, name: '已占用'},
                        {value: 310, name: '空闲'}
                    ],

                    itemStyle: {
                        normal: {
                            color: null
                        },
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        normal: {
                            position: 'inner',
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    }
                },
            ]
        };
        setInterval(function () {
            compute_pie_option.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;
            compute_pie_option.series[0].data[1].value = (Math.random() * 100).toFixed(2) - 0;
            compute_pie_option.series[1].data[0].value = (Math.random() * 100).toFixed(2) - 0;
            compute_pie_option.series[1].data[1].value = (Math.random() * 100).toFixed(2) - 0;
            compute_pie.setOption(compute_pie_option, true);


        }, 2000);

        // compute_data_chart for ten minutes
        var compute_data = [];
        var compute_now = new Date();
        var compute_time = new Date(compute_now-twoSecond*30*10);
        for (var i = 0; i < 30*10; i++) {
            compute_data.push({
                name:compute_time.toString(),
                value:[
                    compute_time,Math.round(Math.random() * 10 + 50)
                ]
            });
            compute_time= new Date(+compute_time+twoSecond);
        }
        var compute_data_chart = echarts.init(document.getElementById('compute_data_chart'));
        var compute_data_chart_option = {
            grid:{
                x:'10%',
                y:'20%',
                x2:'10%',
                y2:'13%'
            },
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    params = params[0];
                    var date = new Date(params.name);
                    return date.getFullYear() + '/' + date.getMonth() + '/' + date.getDate() +' '+date.getHours()+':'+date.getMinutes()+' : ' + params.value[1];
                },
                axisPointer: {
                    animation: false
                }
            },
            xAxis: {
                type: 'time',
                splitLine: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '100%'],
                name: '记录条数',
                splitLine: {
                    show: false
                }
            },
            series: [{
                name: '采集数据',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                areaStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgb(255, 158, 68)'
                        }, {
                            offset: 1,
                            color: 'rgb(255, 70, 131)'
                        }])
                    }
                },
                data: compute_data
            }]
        };
        setInterval(function () {
            now= new Date();
            compute_data.shift();
            compute_data.push({
                name: now.toString(),
                value: [
                    now,
                    Math.round(Math.random() * 10+50)
                ]
            });
            compute_data_chart.setOption(compute_data_chart_option,true)
        }, 2000);



        // ---------------------------消息队列集群－－－－－－－－－－－－－－－－－－－－－

        // message_chart
        var message_chart = echarts.init(document.getElementById('message_chart'));
        var message_chart_option = {
            // grid:{
            //     x:'13%',
            //     y:'30%',
            //     x2:'13%',
            //     y2:'10%'
            // },
            title:{
                text:'物理使用情况',
                textStyle:{
                    fontSize:14
                }
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#283b56'
                    }
                }
            },
            legend: {
                orient: 'horizontal',
                bottom: 0,
                // padding: [
                //     5,  // up
                //     10, // right
                //     5,  // down
                //     10 // left
                // ],
                // left:'left',
                data: ['磁盘IO', '网络IO', 'CPU使用率']
            },
            dataZoom: {
                show: false,
                start: 0,
                end: 100
            },
            xAxis: [
                {
                    type: 'category',
                    boundaryGap: true,
                    data: (function () {
                        var now = new Date();
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.unshift(now.toLocaleTimeString().replace(/^\D*/, ''));
                            now = new Date(now - 2000);
                        }
                        return res;
                    })()
                }
            ],
            yAxis: [
                {
                    type: 'value',
                    scale: true,
                    name: '％',
                    max: 100,
                    min: 0,
                    splitLine:{
                        show:false
                    },
                    boundaryGap: [0.2, 0.2]
                },
                {
                    type: 'value',
                    scale: true,
                    name: 'Byte/s',
                    max: 1200,
                    min: 0,
                    splitLine:{
                        show:false
                    },
                    boundaryGap: [0.2, 0.2]
                }
            ],
            series: [
                {
                    name: '磁盘IO',
                    type: 'line',
                    yAxisIndex: 1,
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(600);
                        }
                        return res;
                    })()
                },
                {
                    name: '网络IO',
                    type: 'line',
                    yAxisIndex: 1,
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(500);
                        }
                        return res;
                    })()
                },
                {
                    name: 'CPU使用率',
                    type: 'line',
                    data: (function () {
                        var res = [];
                        var len = chart_len;
                        while (len--) {
                            res.push(40);
                        }
                        return res;
                    })()
                }
            ]
        };
        setInterval(function () {
            var axisData = (new Date()).toLocaleTimeString().replace(/^\D*/, '');
            var data0 = message_chart_option.series[0].data;
            var data1 = message_chart_option.series[1].data;
            var data2 = message_chart_option.series[2].data;

            data0.shift();
            data0.push(Math.round(Math.random() * 1000));
            data1.shift();
            data1.push(Math.round(Math.random() * 1000));

            data2.shift();
            data2.push((Math.random() * 10 + 20).toFixed(1) - 0);

            message_chart_option.xAxis[0].data.shift();
            message_chart_option.xAxis[0].data.push(axisData);
            message_chart.setOption(message_chart_option);
        }, 2200);

        // message_pie
        var message_pie = echarts.init(document.getElementById('message_pie'));
        var message_pie_option = {
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                data: ['已占用', "空闲"]
            },
            series: [
                {
                    name: '内存占用',
                    type: 'pie',
                    radius: [0, '40%'],
                    center: ['25%', '60%'],
                    data: [
                        {value: 335, name: '已占用'},
                        {value: 310, name: '空闲'}
                    ],

                    itemStyle: {
                        normal: {
                            color: null
                        },
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        normal: {
                            position: 'inner',
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    }
                },
                {
                    name: '磁盘占用',
                    type: 'pie',
                    radius: [0, '40%'],
                    center: ['75%', '60%'],
                    data: [
                        {value: 335, name: '已占用'},
                        {value: 310, name: '空闲'}
                    ],

                    itemStyle: {
                        normal: {
                            color: null
                        },
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },
                    label: {
                        normal: {
                            position: 'inner',
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    }
                },
            ]
        };
        setInterval(function () {
            message_pie_option.series[0].data[0].value = (Math.random() * 100).toFixed(2) - 0;
            message_pie_option.series[0].data[1].value = (Math.random() * 100).toFixed(2) - 0;
            message_pie_option.series[1].data[0].value = (Math.random() * 100).toFixed(2) - 0;
            message_pie_option.series[1].data[1].value = (Math.random() * 100).toFixed(2) - 0;
            message_pie.setOption(message_pie_option, true);
        }, 2000);

        // message_data_chart for 10 minutes
        var message_in_data = [];
        var message_out_data= [];
        var message_now = new Date();
        var message_time = new Date(message_now-twoSecond*30*10);
        for (var i = 0; i < 30*10; i++) {
            message_in_data.push({
                name:message_time.toString(),
                value:[
                    message_time,Math.round((Math.random()-1) * 20 + 70)
                ]
            });
            message_out_data.push({
                name:message_time.toString(),
                value:[
                    message_time,Math.round((Math.random()-1) * 30 + 50)
                ]
            });
            message_time= new Date(+message_time+twoSecond);
        }
        var message_data_chart = echarts.init(document.getElementById('message_data_chart'));
        var message_data_chart_option = {
            grid:{
                x:'10%',
                y:'20%',
                x2:'10%',
                y2:'13%'
            },
            legend:{
                orient: 'horizontal',
                left: 'right',
                data: ['流入流量', "流出流量"]
            },
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    params = params[0];
                    var date = new Date(params.name);
                    return date.getFullYear() + '/' + (date.getMonth() + 1) + '/' + date.getDate() +' '+date.getHours()+':'+date.getMinutes()+' : ' + params.value[1];
                },
                axisPointer: {
                    animation: false
                }
            },
            xAxis: {
                type: 'time',
                splitLine: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                scare: true,
                boundaryGap: [0, '100%'],
                name: 'Byte',
                splitLine: {
                    show: false
                }
            },
            series: [{
                name: '流入流量',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                areaStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgb(255, 158, 68)'
                        }, {
                            offset: 1,
                            color: 'rgb(255, 70, 131)'
                        }])
                    },
                    opacity:0.5
                },
                lineStyle: {
                    normal: {
                        type: 'solid',
                        color:"red",
                        opacity :"0.5"
                    }
                },
                data: message_in_data
            },{
                name: '流出流量',
                type: 'line',
                showSymbol: false,
                hoverAnimation: false,
                areaStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgb(65, 242, 130)'
                        }, {
                            offset: 1,
                            color: 'rgb(11, 138, 232)'
                        }])
                    },
                    opacity:0.5
                },
                lineStyle: {
                    normal: {
                        type: 'solid',
                        color:"rgb(11, 138, 232)",
                        opacity :"0.5"
                    }
                },
                data: message_out_data
            }
            ]
        };
        setInterval(function () {
            now= new Date();
            message_in_data.shift();
            message_in_data.push({
                name: now.toString(),
                value: [
                    now,
                    Math.round((Math.random()-1) * 20+70)
                ]
            });
            message_out_data.shift();
            message_out_data.push({
                name: now.toString(),
                value: [
                    now,
                    Math.round((Math.random()-1)* 30+50)
                ]
            });

            message_data_chart.setOption(message_data_chart_option,true)
        }, 2000);


        // app ranking
        var idx=0;
        setInterval(function () {

            if(idx==4){
                idx=0;
            }

            if(idx == 0){
                $('#vcpu').addClass('success');
                $('#job_num').removeClass('success');
            }else if(idx ==1){
                $('#mem').addClass('success');
                $('#vcpu').removeClass('success');
            }else if(idx ==2){
                $('#job_time').addClass('success');
                $('#mem').removeClass('success');
            }else if(idx ==3){
                $('#job_num').addClass('success');
                $('#job_time').removeClass('success');
            }

            idx++;

        }, 2000);


    });


</script>

</body>

</html>
